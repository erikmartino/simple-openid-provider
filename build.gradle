buildscript {
	ext {
		springBootVersion = '2.0.0.M7'
	}

	repositories {
		maven { url 'https://plugins.gradle.org/m2/' }
		maven { url 'https://repo.spring.io/plugins-release/' }
		maven { url 'https://repo.spring.io/milestone/' }
	}

	dependencies {
		classpath 'com.github.ben-manes:gradle-versions-plugin:0.17.0'
		classpath 'com.netflix.nebula:gradle-extra-configurations-plugin:3.3.0'
		classpath 'gradle.plugin.com.gorylenko.gradle-git-properties:gradle-git-properties:1.4.17'
		classpath 'org.junit.platform:junit-platform-gradle-plugin:1.0.2'
		classpath "org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion"
	}
}

apply plugin: 'base'
apply plugin: 'com.github.ben-manes.versions'

subprojects {
	apply plugin: 'java'
	apply plugin: 'checkstyle'
	apply from: "$rootDir/gradle/dependency-management.gradle"

	group = 'io.github.vpavic'
	sourceCompatibility = 1.8

	repositories {
		mavenCentral()
		maven { url 'https://repo.spring.io/milestone/' }
	}

	checkstyle {
		configFile = rootProject.file('config/checkstyle/checkstyle.xml')
		configProperties.configDir = configFile.parentFile
		toolVersion = '8.7'
	}
}
